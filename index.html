<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Lotus - Proposta de Compra</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="main-container">
        <div class="form-container">
            <!-- Header redesenhado com identidade Lotus -->
            <div class="header">
                <div class="logo">
                    <img src="logo.svg" alt="Lotus" class="logo-image">
                </div>
                <h1 class="header-title">Proposta de Compra</h1>
            </div>

            <!-- Progress moderno -->
            <div class="progress-container">
                <div class="progress-wrapper">
                    <div class="progress-labels">
                        <span class="progress-label active" id="label1">Dados Pessoais</span>
                        <span class="progress-label" id="label2">Endereço</span>
                        <span class="progress-label" id="label3">Cônjuge</span>
                        <span class="progress-label" id="label4">Empreendimento</span>
                        <span class="progress-label" id="label5">Unidade</span>
                        <span class="progress-label" id="label6">Documentos</span>
                        <span class="progress-label" id="label7">Finalização</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="step-indicators">
                        <div class="step-dot active" data-step="1"></div>
                        <div class="step-dot" data-step="2"></div>
                        <div class="step-dot" data-step="3"></div>
                        <div class="step-dot" data-step="4"></div>
                        <div class="step-dot" data-step="5"></div>
                        <div class="step-dot" data-step="6"></div>
                        <div class="step-dot" data-step="7"></div>
                    </div>
                </div>
            </div>

            <form class="form-content" id="lotusForm">
                <!-- Step 1: Dados Pessoais -->
                <div class="step active" id="step1">
                    <div class="step-header">
                        <h2 class="step-title">Dados Pessoais</h2>
                    </div>
                    
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label class="form-label" for="nome">Nome Completo</label>
                            <input type="text" id="nome" name="nome" class="form-input" required 
                                   placeholder="Seu nome completo" inputmode="text" autocomplete="name">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="cpfCnpj">CPF/CNPJ</label>
                            <input type="text" id="cpfCnpj" name="cpfCnpj" class="form-input" required 
                                   placeholder="000.000.000-00" inputmode="numeric" autocomplete="off">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="rgInsEst">RG/Ins. Est.</label>
                            <input type="text" id="rgInsEst" name="rgInsEst" class="form-input" required 
                                   placeholder="00.000.000-0" inputmode="text" autocomplete="off">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="orgaoExpedidor">Órgão Expedidor</label>
                            <input type="text" id="orgaoExpedidor" name="orgaoExpedidor" class="form-input" required 
                                   placeholder="SSP/DF" inputmode="text" autocomplete="off">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="sexo">Sexo</label>
                            <select id="sexo" name="sexo" class="form-input" required autocomplete="sex">
                                <option value="">Selecione</option>
                                <option value="masculino">Masculino</option>
                                <option value="feminino">Feminino</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="dataNascimento">Data de Nascimento</label>
                            <input type="date" id="dataNascimento" name="dataNascimento" class="form-input" required autocomplete="bday">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="naturalidade">Naturalidade</label>
                            <input type="text" id="naturalidade" name="naturalidade" class="form-input" required 
                                   placeholder="Brasília" inputmode="text" autocomplete="off">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="nacionalidade">Nacionalidade</label>
                            <input type="text" id="nacionalidade" name="nacionalidade" class="form-input" required 
                                   placeholder="Brasileira" value="Brasileira" inputmode="text" autocomplete="country">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="telefoneCelular">Telefone Celular</label>
                            <input type="tel" id="telefoneCelular" name="telefoneCelular" class="form-input" required 
                                   placeholder="(61) 99999-9999" inputmode="tel" autocomplete="tel-national">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="telefoneComercial">Telefone Comercial</label>
                            <input type="tel" id="telefoneComercial" name="telefoneComercial" class="form-input" 
                                   placeholder="(61) 3333-3333" inputmode="tel" autocomplete="tel-national">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="email">E-mail</label>
                            <input type="email" id="email" name="email" class="form-input" required 
                                   placeholder="seu@email.com" inputmode="email" autocomplete="email">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="profissao">Profissão</label>
                            <input type="text" id="profissao" name="profissao" class="form-input" required 
                                   placeholder="Sua profissão" inputmode="text" autocomplete="organization-title">
                        </div>
                        
                        <div class="form-group full-width">
                            <label class="form-label">Estado Civil</label>
                            <div class="radio-grid">
                                <div class="radio-item">
                                    <input type="radio" id="solteiro" name="estadoCivil" value="solteiro" class="radio-input" required>
                                    <label for="solteiro" class="radio-label"><span>Solteiro(a)</span></label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="casado" name="estadoCivil" value="casado" class="radio-input">
                                    <label for="casado" class="radio-label"><span>Casado(a)</span></label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="separado" name="estadoCivil" value="separado" class="radio-input">
                                    <label for="separado" class="radio-label"><span>Separado Jud.</span></label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="divorciado" name="estadoCivil" value="divorciado" class="radio-input">
                                    <label for="divorciado" class="radio-label"><span>Divorciado(a)</span></label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="viuvo" name="estadoCivil" value="viuvo" class="radio-input">
                                    <label for="viuvo" class="radio-label"><span>Viúvo(a)</span></label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="uniao-estavel" name="estadoCivil" value="uniao-estavel" class="radio-input">
                                    <label for="uniao-estavel" class="radio-label"><span>União Estável</span></label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Endereço -->
                <div class="step" id="step2">
                    <div class="step-header">
                        <h2 class="step-title">Endereço Residencial</h2>
                        <p class="step-description">Informe seu endereço residencial atual para continuarmos com sua proposta</p>
                    </div>

                    <div class="special-section">
                        <!-- <div class="section-header">
                            <h3 class="section-title">Dados de Endereço</h3>
                            <p class="section-subtitle">Preencha os dados do seu endereço atual</p>
                        </div> -->
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label" for="cep">CEP</label>
                                <input type="text" id="cep" name="cep" class="form-input" required 
                                       placeholder="00000-000" inputmode="numeric" autocomplete="postal-code">
                            </div>
                            
                            <div class="form-group full-width">
                                <label class="form-label" for="logradouro">Logradouro</label>
                                <input type="text" id="logradouro" name="logradouro" class="form-input" required 
                                       placeholder="Rua, Avenida, Quadra..." inputmode="text" autocomplete="address-line1">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="numero">Número</label>
                                <input type="text" id="numero" name="numero" class="form-input" required 
                                       placeholder="123" inputmode="numeric" autocomplete="off">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="complemento">Complemento</label>
                                <input type="text" id="complemento" name="complemento" class="form-input" 
                                       placeholder="Apt, Bloco, Casa..." inputmode="text" autocomplete="address-line2">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="bairro">Bairro</label>
                                <input type="text" id="bairro" name="bairro" class="form-input" required 
                                       placeholder="Nome do bairro" inputmode="text" autocomplete="address-level2">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="cidade">Cidade</label>
                                <input type="text" id="cidade" name="cidade" class="form-input" required 
                                       placeholder="Nome da cidade" inputmode="text" autocomplete="address-level2">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="uf">UF</label>
                                <select id="uf" name="uf" class="form-input" required autocomplete="address-level1">
                                    <option value="">Selecione</option>
                                    <option value="DF">DF</option>
                                    <option value="GO">GO</option>
                                    <option value="SP">SP</option>
                                    <option value="RJ">RJ</option>
                                    <option value="MG">MG</option>
                                    <option value="AC">AC</option>
                                    <option value="AL">AL</option>
                                    <option value="AP">AP</option>
                                    <option value="AM">AM</option>
                                    <option value="BA">BA</option>
                                    <option value="CE">CE</option>
                                    <option value="ES">ES</option>
                                    <option value="MA">MA</option>
                                    <option value="MT">MT</option>
                                    <option value="MS">MS</option>
                                    <option value="PA">PA</option>
                                    <option value="PB">PB</option>
                                    <option value="PR">PR</option>
                                    <option value="PE">PE</option>
                                    <option value="PI">PI</option>
                                    <option value="RN">RN</option>
                                    <option value="RS">RS</option>
                                    <option value="RO">RO</option>
                                    <option value="RR">RR</option>
                                    <option value="SC">SC</option>
                                    <option value="SE">SE</option>
                                    <option value="TO">TO</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 3: Cônjuge -->
                <div class="step" id="step3">
                    <div class="step-header">
                        <h2 class="step-title">Cônjuge / 2º Proponente</h2>
                        <p class="step-description">Informe os dados completos do seu cônjuge ou segundo proponente</p>
                    </div>

                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label class="form-label" for="nomeConjuge">Nome Completo</label>
                            <input type="text" id="nomeConjuge" name="nomeConjuge" class="form-input spouse-field" 
                                   placeholder="Nome completo do cônjuge" inputmode="text" autocomplete="name">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="cpfConjuge">CPF</label>
                            <input type="text" id="cpfConjuge" name="cpfConjuge" class="form-input spouse-field" 
                                   placeholder="000.000.000-00" inputmode="numeric" autocomplete="off">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="rgConjuge">RG/Ins. Est.</label>
                            <input type="text" id="rgConjuge" name="rgConjuge" class="form-input spouse-field" 
                                   placeholder="00.000.000-0" inputmode="text" autocomplete="off">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="emailConjuge">E-mail</label>
                            <input type="email" id="emailConjuge" name="emailConjuge" class="form-input" 
                                   placeholder="conjuge@email.com" inputmode="email" autocomplete="email">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="profissaoConjuge">Profissão</label>
                            <input type="text" id="profissaoConjuge" name="profissaoConjuge" class="form-input spouse-field" 
                                   placeholder="Profissão do cônjuge" inputmode="text" autocomplete="organization-title">
                        </div>
                    </div>
                </div>

                <!-- Step 4: Empreendimento -->
                <div class="step" id="step4">
                    <div class="step-header">
                        <h2 class="step-title">Escolha seu Empreendimento</h2>
                    </div>
                    
                    <div class="empreendimento-grid">
                        <div class="empreendimento-card">
                            <input type="radio" id="haya" name="empreendimento" value="haya" class="empreendimento-input" required>
                            <label for="haya" class="empreendimento-label">
                                <div class="empreendimento-content">
                                    <h3 class="empreendimento-name">HAYA</h3>
                                    <p class="empreendimento-subtitle">Residencial</p>
                                </div>
                            </label>
                        </div>
                        <div class="empreendimento-card">
                            <input type="radio" id="kasa" name="empreendimento" value="kasa" class="empreendimento-input">
                            <label for="kasa" class="empreendimento-label">
                                <div class="empreendimento-content">
                                    <h3 class="empreendimento-name">KASA</h3>
                                    <p class="empreendimento-subtitle">Residencial</p>
                                </div>
                            </label>
                        </div>
                        <div class="empreendimento-card">
                            <input type="radio" id="vert" name="empreendimento" value="vert" class="empreendimento-input">
                            <label for="vert" class="empreendimento-label">
                                <div class="empreendimento-content">
                                    <h3 class="empreendimento-name">VERT</h3>
                                    <p class="empreendimento-subtitle">Residencial</p>
                                </div>
                            </label>
                        </div>
                        <div class="empreendimento-card">
                            <input type="radio" id="alma" name="empreendimento" value="alma" class="empreendimento-input">
                            <label for="alma" class="empreendimento-label">
                                <div class="empreendimento-content">
                                    <h3 class="empreendimento-name">ALMA</h3>
                                    <p class="empreendimento-subtitle">Residencial</p>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Step 5: Unidade -->
                <div class="step" id="step5">
                    <div class="step-header">
                        <h2 class="step-title">Unidade e Investimento</h2>
                        <p class="step-description">Identifique a unidade desejada e informe os valores do seu investimento</p>
                    </div>
                    
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label class="form-label" for="unidadeNumero">Número da Unidade</label>
                            <input type="text" id="unidadeNumero" name="unidadeNumero" class="form-input" required 
                                   placeholder="Ex: 101, 205, 3004, Torre A - Apt 1502" inputmode="text" autocomplete="off">
                        </div>
                    </div>

                    <div class="special-section">
                        <div class="section-header">
                            <h3 class="section-title">Valores da Proposta</h3>
                            <p class="section-subtitle">Informe os valores relacionados à aquisição do imóvel</p>
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label" for="valorImovel">Valor do Imóvel (R$)</label>
                                <input type="text" id="valorImovel" name="valorImovel" class="form-input" required 
                                       placeholder="450.000,00" inputmode="decimal" autocomplete="off">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="valorEntrada">Valor de Entrada (R$)</label>
                                <input type="text" id="valorEntrada" name="valorEntrada" class="form-input" required 
                                       placeholder="90.000,00" inputmode="decimal" autocomplete="off">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="valorFinanciar">Valor a Financiar (R$)</label>
                                <input type="text" id="valorFinanciar" name="valorFinanciar" class="form-input" readonly 
                                       placeholder="360.000,00" tabindex="-1">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 6: Documentos -->
                <div class="step" id="step6">
                    <div class="step-header">
                        <h2 class="step-title">Envio de Documentos</h2>
                        <p class="step-description">Anexe os documentos necessários para análise da sua proposta</p>
                    </div>

                    <div class="document-section">
                        <div class="document-header">
                            <h3 class="document-title">Documentação (Opcional)</h3>
                            <p class="document-subtitle">Anexe seus documentos agora para agilizar o processo ou envie posteriormente</p>
                        </div>

                        <!-- Info dos documentos necessários -->
                        <div class="required-docs-info">
                            <span class="required-docs-icon">ℹ️</span>
                            <div class="required-docs-text">
                                <strong>Documentos necessários:</strong> RG, CPF, Comprovante de Residência e Comprovante de Renda.
                                <span id="spouseDocsInfo" style="display: none;">
                                    <br><strong>Documentos do cônjuge:</strong> Certidão de Casamento, RG do Cônjuge, CPF do Cônjuge, Comprovante de Renda do Cônjuge.
                                </span>
                            </div>
                        </div>


                        <!-- Container de Upload -->
                        <div id="uploadSection">
                            <!-- Área de Upload Drag & Drop -->
                            <div class="upload-container" id="uploadContainer">
                                <div class="upload-icon">📤</div>
                                <h3 class="upload-title">Arraste seus documentos aqui</h3>
                                <p class="upload-subtitle">ou clique para selecionar múltiplos arquivos</p>
                                <button type="button" class="upload-button" onclick="document.getElementById('fileInputGlobal').click()">
                                    <span>📁</span>
                                    <span>Selecionar Arquivos</span>
                                </button>
                                <p class="upload-subtitle" style="margin-top: 16px; font-size: 12px; opacity: 0.8;">
                                    Formatos aceitos: PDF, JPG, JPEG, PNG • Máximo 10MB por arquivo
                                </p>
                            </div>

                            <input type="file" id="fileInputGlobal" class="file-input-global" multiple accept=".pdf,.jpg,.jpeg,.png">

                            <!-- Lista de Arquivos Enviados -->
                            <div class="files-list" id="filesList"></div>

                            <!-- Categorias de Documentos -->
                            <div class="document-categories" id="documentCategories">
                                <div class="category-card" data-category="rg">
                                    <div class="category-icon">🆔</div>
                                    <div class="category-name">RG</div>
                                    <div class="category-count">0 arquivo(s)</div>
                                </div>
                                <div class="category-card" data-category="cpf">
                                    <div class="category-icon">📋</div>
                                    <div class="category-name">CPF</div>
                                    <div class="category-count">0 arquivo(s)</div>
                                </div>
                                <div class="category-card" data-category="residencia">
                                    <div class="category-icon">🏠</div>
                                    <div class="category-name">Comp. Residência</div>
                                    <div class="category-count">0 arquivo(s)</div>
                                </div>
                                <div class="category-card" data-category="renda">
                                    <div class="category-icon">💰</div>
                                    <div class="category-name">Comp. Renda</div>
                                    <div class="category-count">0 arquivo(s)</div>
                                </div>
                                <div class="category-card spouse-doc" data-category="casamento" style="display: none;">
                                    <div class="category-icon">💍</div>
                                    <div class="category-name">Cert. Casamento</div>
                                    <div class="category-count">0 arquivo(s)</div>
                                </div>
                                <div class="category-card spouse-doc" data-category="rg-conjuge" style="display: none;">
                                    <div class="category-icon">🆔</div>
                                    <div class="category-name">RG Cônjuge</div>
                                    <div class="category-count">0 arquivo(s)</div>
                                </div>
                                <div class="category-card spouse-doc" data-category="cpf-conjuge" style="display: none;">
                                    <div class="category-icon">📋</div>
                                    <div class="category-name">CPF Cônjuge</div>
                                    <div class="category-count">0 arquivo(s)</div>
                                </div>
                                <div class="category-card spouse-doc" data-category="renda-conjuge" style="display: none;">
                                    <div class="category-icon">💰</div>
                                    <div class="category-name">Renda Cônjuge</div>
                                    <div class="category-count">0 arquivo(s)</div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- Step 7: Finalização -->
                <div class="step" id="step7">
                    <div class="step-header">
                        <h2 class="step-title">Finalização da Proposta</h2>
                        <p class="step-description">Revise os dados da sua proposta antes de enviar</p>
                    </div>

                    <!-- Summary -->
                    <div class="summary-card">
                        <h3 class="summary-title">Resumo da sua Proposta Lotus</h3>
                        <div class="summary-item">
                            <span class="summary-label">Cliente</span>
                            <span class="summary-value" id="summaryNome">-</span>
                        </div>
                        <div class="summary-item" id="summaryConjugeItem" style="display: none;">
                            <span class="summary-label">Cônjuge</span>
                            <span class="summary-value" id="summaryConjuge">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Empreendimento</span>
                            <span class="summary-value" id="summaryEmpreendimento">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Unidade</span>
                            <span class="summary-value" id="summaryUnidade">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Valor do Imóvel</span>
                            <span class="summary-value" id="summaryValorImovel">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Valor de Entrada</span>
                            <span class="summary-value" id="summaryValorEntrada">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Valor a Financiar</span>
                            <span class="summary-value" id="summaryValorFinanciar">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Documentos</span>
                            <span class="summary-value" id="summaryDocumentos">-</span>
                        </div>
                    </div>
                </div>

                <!-- Navigation -->
                <div class="nav-container">
                    <button type="button" class="btn btn-back" id="btnBack" style="display: none;">
                        ← Voltar
                    </button>
                    <button type="button" class="btn btn-next" id="btnNext">
                        Continuar →
                    </button>
                </div>
                
                <div class="loading-spinner" id="loadingSpinner"></div>
            </form>

            <!-- Success Message -->
            <div class="success-message" id="successMessage">
                <div class="success-icon">
                    <svg width="60" height="60" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                    </svg>
                </div>
                <h2 class="success-title">Proposta Enviada!</h2>
                <p class="success-subtitle">Sua proposta foi processada com sucesso. O PDF está sendo gerado e nossa equipe entrará em contato em breve.</p>
                
                <!-- Seção de Download -->
                <div id="downloadSection" class="download-section" style="display: none;">
                    <div class="download-card">
                        <div class="download-icon">📄</div>
                        <h3 class="download-title">Proposta Gerada</h3>
                        <p class="download-description">Sua proposta foi processada e o PDF está pronto para download</p>
                        <a id="downloadLink" href="#" target="_blank" class="download-button">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                            </svg>
                            Baixar Proposta PDF
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <div class="footer-logo">
            <img src="logo.svg" alt="Lotus" class="logo-image">
        </div>
        <p><strong>Lotus Cidade</strong> • lotuscidade.com.br</p>
        <p>Setor Comercial Sul, Quadra 9, Ed. Parque Cidade Corporate, Torre A, Sala 1105, Brasília-DF</p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script>
        if (window.pdfjsLib) {
            window.pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
        }
    </script>
    <script src="pdf-generator.js"></script>
    <script src="script.js"></script>
</body>
</html>