<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste PDF Debug</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            background: white;
            color: black;
        }
        .container {
            border: 2px solid #000;
            padding: 20px;
            background: white;
            min-height: 400px;
        }
        h1 { color: #000; margin-bottom: 20px; }
        .field { margin: 10px 0; }
        .label { font-weight: bold; display: inline-block; width: 120px; }
        .value { border-bottom: 1px solid #000; min-width: 200px; display: inline-block; }
    </style>
</head>
<body>
    <div class="container" id="content">
        <h1>PROPOSTA DE COMPRA LOTUS - TESTE</h1>
        
        <div class="field">
            <span class="label">Nome:</span>
            <span class="value" id="nome">Jo√£o Silva</span>
        </div>
        
        <div class="field">
            <span class="label">CPF:</span>
            <span class="value" id="cpf">123.456.789-00</span>
        </div>
        
        <div class="field">
            <span class="label">Email:</span>
            <span class="value" id="email">joao@email.com</span>
        </div>
        
        <div class="field">
            <span class="label">Empreendimento:</span>
            <span class="value" id="empreendimento">HAYA</span>
        </div>
        
        <div class="field">
            <span class="label">Valor:</span>
            <span class="value" id="valor">R$ 350.000,00</span>
        </div>
        
        <p style="margin-top: 40px;">
            Este √© um teste de gera√ß√£o de PDF com dados est√°ticos para verificar se o problema est√° na gera√ß√£o do HTML ou no processo de PDF.
        </p>
    </div>
    
    <button onclick="generatePDF()">Gerar PDF Teste</button>
    <button onclick="downloadHTML()">Baixar HTML</button>
    
    <script>
        async function generatePDF() {
            console.log('üîÑ Iniciando gera√ß√£o de PDF teste...');
            
            try {
                const element = document.getElementById('content');
                
                const opt = {
                    margin: 10,
                    filename: 'teste-lotus-pdf.pdf',
                    image: { type: 'jpeg', quality: 0.98 },
                    html2canvas: { 
                        scale: 2,
                        useCORS: true,
                        allowTaint: true,
                        backgroundColor: '#ffffff'
                    },
                    jsPDF: { 
                        unit: 'mm', 
                        format: 'a4', 
                        orientation: 'portrait' 
                    }
                };
                
                console.log('üìÑ Configura√ß√µes:', opt);
                console.log('üìÑ Elemento:', element);
                console.log('üìÑ Dimens√µes:', element.offsetWidth, 'x', element.offsetHeight);
                
                await html2pdf().set(opt).from(element).save();
                console.log('‚úÖ PDF gerado com sucesso!');
                
            } catch (error) {
                console.error('‚ùå Erro ao gerar PDF:', error);
                alert('Erro: ' + error.message);
            }
        }
        
        function downloadHTML() {
            const htmlContent = document.documentElement.outerHTML;
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'teste-lotus.html';
            a.click();
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>